<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./index.css">
</head>
<body>
    <!-- <div class="quotebox">
        <h2>quote of the day</h2>
        <blockquote>Loading...</blockquote>
        <span>Loading...</span>
        <div>
            <button>New Quote</button>
            <button><img src="./twitter icon.png" alt=""> Tweet</button>
        </div>
    </div> -->


    <div class="quotebox">
        <h2>Quote of the Day</h2>
        <blockquote id="quote">Loading...</blockquote>
        <span id="author">Loading...</span>
        <div>
            <button id="new-quote-btn">New Quote</button>
            <button id="tweet-btn"><img src="./twitter icon.png" alt=""> Tweet</button>
        </div>
    </div>

    <script>
        // Function to fetch a new quote
        async function fetchQuote() {
            try {
                const response = await fetch("https://api.quotable.io/random");
                if (!response.ok) {
                    throw new Error("Network response was not ok");
                }
                const data = await response.json();
                document.getElementById("quote").innerText = data.content;
                document.getElementById("author").innerText = `- ${data.author}`;
                console.log("Quote fetched successfully");
            } catch (error) {
                console.error("Error fetching quote:", error);
                // Fallback quote in case of an error
                document.getElementById("quote").innerText = "Don't watch the clock; do what it does. Keep going.";
                document.getElementById("author").innerText = "- Sam Levenson";
            }
        }

        // Wait for the DOM to load before adding event listeners
        document.addEventListener("DOMContentLoaded", () => {
            const newQuoteBtn = document.getElementById("new-quote-btn");
            const tweetBtn = document.getElementById("tweet-btn");

            // Event listener for the New Quote button
            newQuoteBtn.addEventListener("click", fetchQuote);

            // Event listener for the Tweet button
            tweetBtn.addEventListener("click", () => {
                const quote = document.getElementById("quote").innerText;
                const author = document.getElementById("author").innerText;
                const twitterUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(quote + " " + author)}`;
                window.open(twitterUrl, "_blank");
            });

            // Fetch a new quote on initial load
            fetchQuote();
        });
    </script>
    
    
</body>

</html>